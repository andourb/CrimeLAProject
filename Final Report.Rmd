---
title: "Crime in Los Angeles"
subtitle: "Final Report"
author: "Group B"
date: "October 13, 2017"
output:
  pdf_document:
    toc: true
    toc_depth: 2
    number_sections: true
    fig_caption: true
    fig_width: 7
    fig_height: 5
    df_print: kable
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_chunk$set(fig.align = "center")
knitr::kable
```

```{r, include=FALSE}
crime_data<-read.csv("data/clean_data.csv")
```

\newpage

Introduction
=====================

Context
---------------------
Los Angeles (LA) is one of the most vibrant cities in the United States with a high level of economic activity. It is the second most populous city in the US after New York city and is home to a wide range of business and professional interests. Criminal activity in L.A is often heavily scrutinised given its diverse population and importance as a cultural hub. 

L.A is considered as one of the most dangerous cities in the US, with a high crime rate of 6.45 incidents per 1000 residents compared to the national median of 3.8 in 2015. According to Los Angeles Police Department (LAPD), crime rate in the city has fallen for 10 consecutive years from 2002 to 2012. However, in 2015, it was reported that for the first time in more than a decade, all categories of crime rose across the city (violent crime rose 20.2% and all crime was up 12.6% compared t0 2014). The upward trend continued in 2016, with higher crime across four categories compared to 2015. 

Officials have attributed the increase to a variety of factors, including increased gang activity and a rise in the number of homeless people. With a high chance of roughly 1 in 33 to become a victim of either violent or property crime in L.A, it is important to focus efforts on crime prevention and education.

In order to learn more about crime in L.A and to come up with valuable suggestions to aid efforts in crime prevention, this paper looks into three subsections of crime patterns in LA and asks the following questions; firstly, who is more likely to be a victim; secondly, what are the risk areas in L.A and thirdly, when are crimes more likely to occur. 


Theory
--------------------
Studies of criminal patterns and activities have in the past belonged to the domain of psychology and sociology. However, with the rise of criminal activities and increased sophistication of criminal operations, there is a need for more targeted crime prevention efforts. In the past decades there have been increased efforts in data collection of criminal activites which have allowed for quantitative analysis to better predict incidence of crime, likely victims of crime and a myriad of other questions. This paper aims to adopt statistical tools and visualisation efforts to paint a clearer picture of criminal activities in L.A and provide some useful insights and policy recommendations based on the analysis done. Our analysis will also be useful for crime prevention efforts from the victims' point of view, as we aim to highlight demographic and location factors that will make one more susceptible to crime. 

Data Description
=====================

Description of the dataset
--------------------

The dataset contains information on crime incidents in Los Angeles. The source description (LAPD) states that the dataset may have some inaccuracies due to information being transferred from original crime statements that are typed on paper. As crime data contains sensitive personal information, fields that contain address information are only provided to the nearest hundred block. The dataset includes crime data from 2010 through September 2017.

Two separate csv files are provided with  Crime_Data_2010_2017  containing the main data and MO_Codes containing the description of MO codes that are included in the crime data for classification. 
The dataset is made up of 1.584.316 observations and 26 variables. To structure the variables, we split them into four groups: demographic, geographic, crime and time type variables. Demographic category consists of the victims age, sex and descent. The type of variables and a detailed description can be found in the table below: 

_Demographics_

| Variable      |    Type     |   Description      |
| ------------- | ----------- | :---------------------------------------------------      |
| Victim.Age    |     dbl     |      Two character numeric   |
| Victim.Sex    |    fctr     |     F - Female M - Male X - Unknown  |
|Victim.Descent |    fctr     |      Descent Code: A - Other Asian B - Black C - Chinese D - Cambodian F - Filipino G - Guamanian H - Hispanic/Latin/Mexican I - American Indian/Alaskan Native J - Japanese K - Korean L - Laotian O - Other P - Pacific Islander S - Samoan U - Hawaiian V - Vietnamese W - White X - Unknown Z - Asian Indian    |



The geographical category contains variables relating to the geographical occurrence of crime and reporting of crimes. Variables include the area ID, the name of the area, the district reporting the crime, the premise code, a premise description, the address, the cross street of rounded address and the location where the crime occurred. The type of variables and a detailed description can be found in the table below: 

_Geographic_

| Variable            |    Type     |   Description      |
| -------------       | ------------- | :-------------------------------------------------      |
| Area.ID             |  int    |  The LAPD has 21 Community Police Stations referred to as Geographic Areas within the department. These Geographic Areas are sequentially numbered from 1-21. |
| Area.Name           |  fctr    |   The 21 Geographic Areas or Patrol Divisions are also given a name designation that references a landmark or the surrounding community that it is responsible for. For example 77th Street Division is located at the intersection of South Broadway and 77th Street, serving neighborhoods in South Los Angeles.   |
| Reporting.District  |   int   |  A four-digit code that represents a sub-area within a Geographic Area. All crime records reference the "RD" that it occurred in for statistical comparisons.    |
| Premise.Code        | dbl     |  The type of structure, vehicle, or location where the crime took place.    |
| Premise.Description | fctr     |  Defines the Premise Code provided    |
| Address             |   fctr   |  Street address of crime incident rounded to the nearest hundred block to maintain anonymity.    |
| Cross.Street  |  fctr   | Cross Street of rounded Address.  |
| Location      |   fctr   |   The location where the crime incident occurred. Actual address is omitted for confidentiality. XY coordinates reflect the nearest 100 block.   |
             

The crime category contains all variables that describe the incidents of crime in more detail such as the type of crime, the weapons used or the current status of the crime. The variables we assorted to this category include the number of the crime on record, the weapons used and their description, the status of the crime (code and description), then crime codes and their description as well as the modus operandi associated with the suspect in commission of the crime.

_Crime_

| Variable       |    Type     |   Description      |
| ------------- | -------------   | :------------------------------------------------------------------------      |
|  DR.Number        |      int   |    Division of Records Number: Official file number made up of a 2 digit year, area ID, and 5 digits       |
|  Weapon.Used.Code |     dbl    |   The type of weapon used in the crime.        |
|  Weapon.Description|  fctr     |    Defines the Weapon Used Code provided.       |
|  Status.Code      |   fctr     |    Status of the case. (IC is the default)       |
|  Status.Description|    fctr   |   Defines the Status Code provided.        |
|  Crime.Code.1     |    fctr    |    Indicates the crime committed. Crime Code 1 is the primary and most serious one. Crime Code 2, 3, and 4 are respectively less serious offenses. Lower crime class numbers are more serious.      |
|  Crime.Code.2     |    fctr    |  May contain a code for an additional crime, less serious than Crime Code 1.      |
|  Crime.Code.3     |    fctr    |    May contain a code for an additional crime, less serious than Crime Code 1.       |
|  Crime.Code.4     |    fctr    | May contain a code for an additional crime, less serious than Crime Code 1.          |
|  Crime.Code       |    int     |     Indicates the crime committed. (Same as Crime Code 1)      |
|  Crime.Code.Description|  fctr |   Defines the Crime Code provided.        |
|  MO.Codes         |   fctr     |     Modus Operandi: Activities associated with the suspect in commission of the crime.       |



The final category groups all variables related to time. It contains a variable that contains the reported date, the date and time occurrence.

_Time_

| Variable      |    Type         |   Description  |
| ------------- | -------------   | :------------------------     |
| Date.Reported |     fctr     |   MM/DD/YYYY   |
| Date.Occurred |    fctr    |   MM/DD/YYYY   |
| Time.Occurred |      int     |    In 24 hour military time.   |

Strengths and Weaknesses
-------------------

### Strengths:

1. Large number of observations 

The dataset is comprehensive and documents criminal activity in L.A. from 2010 to September 2017. The large number of observations means that our analysis will be more robust and enable us to more accurately make predictions on future criminal activties. 

2. Many variables regarding each criminal offence were collected and documented  

We can conduct analysis on different areas with respect to crime in L.A with the data that we have. The data collected was extensive and detailed, with information on demographics, type of crime, and timings amongst other things. This will again allow us to study and identify interesting patterns with regard to criminal activity in L.A. 

### Weaknesses:
1. Lack of socio-economic information

While the dataset was comprehensive, it did not contain information on the socio-economic status of victims or perpetrators of crimes. Having such information would allow us to make more interesting inferences on likely victims of crime and also the type of crime committed. It is highly likely that socio-economic information would be as powerful as demographics, if not more powerful, in predicting criminal activities. 

2. Lack of proper classification for different types of crime

The classification of types of crime in the dataset was messy and was not conducive for analysis, making it difficult to study the correlation between types of crime being committed and other variables such as area and demographics. This is because the crime description in the original dataset differs even for crimes that are broadly similar in nature. We thus have to go through the dataset and make classifications that are logical and at the same time, conducive for analysis. 

3. Lack of continuous variables

The dataset contains mainly variables that are mainly discrete or categorical, making it diffcult for simple linear regression analysis to be conducted. This means that we have to rely mainly on hypothetical testing and visualisation for analysis and logistic regression for predictions.

Data cleaning description
-------------------
As the data is provided in two different csv files. The first step that we took was to merge the crime_data and code_data into one single dataset. Then we looked at the date columns (date occured and date reported) and reformated each date to three new columns. Thus creating a new colum for the day occured, month occured and year occured as well as day reported, month reported and year reported. 
For the completeness of full information on every year, we have omitted data from the year 2017 and will focus on the data from 2010 to 2016 included. 

In order to make an interesting analysis we wanted to work with the information on victim descent. The abbreviations for victim descent in the original dataset, however, made analysis a little impractical as they weren't intuitively understandable (e.g. "D" standing for "Cambodian"). This is why we labeled the descent variables with the full description. (e.g. "W" being "White" and "D" being "Cambodian").


As there were some very specific subcategories for America (such as Alaskan Native)  we also added an additional more global column on victim descent to be able to work with both the more detailed descent information and the more global descent variables. We reduced the global descent column to contain six groups:


_Victim Descent_

| Victim Descent Global Variables |
| ------------- |
| White |
| Black |
| Hispanic |
| Other | 
| Asian |
| Pacific |

In order to simplify the mapping of location information, we also extracted longitude and latitude from the location column and created additional, separate columns for longitude and latitude. 

The data also covers and categorizes different types of crime in extensive detail. In order to extract valuable insights, we simplified the crime type variables by grouping them into more general categories. This reduced the 135 variables to sixteen more general variables. 

As we put the focus of our analysis on understanding Los Angeles' victim profiles we decided not to use the data that is provided on crime suspects. 






Demographic
=====================

Firstly, we want to find out what kind of people are more likely to be a victim of crime and thus look at some demographic variables such as age, sex and ethnicity.

Age and sex distribution
-------------------

```{r library, echo=FALSE, message=FALSE, warning=FALSE}
library(dplyr) 
library(ggmap)
library(ggplot2)
library(dplyr)
library(lubridate)
library(tidyr)
library(stringr)
library(scales)
library(stargazer)

```

Here we begin with a summary of the age among all victims. The summary of the victim age shows the youngest victim is only 10 years old and the oldest being 99 years old. The mean age of victim is around 36 years old. 
```{r , echo=FALSE}

##distribution of age among all victims
summary(crime_data$Victim.Age,na.rm=TRUE)
```

Typically the age pattern of victims between male and female are not the same. We then construct a summary for male and female respectively and a histogram plot to see if it is the case.

```{r}
#summary of female age and male age respectively
female_age<-crime_data$Victim.Age[crime_data$Victim.Sex=="F"]
male_age<-crime_data$Victim.Age[crime_data$Victim.Sex=="M"]
summary(female_age,na.rm=TRUE)
summary(male_age,na.rm=TRUE)
#plot
crime_data%>%filter(Victim.Sex=="F"|Victim.Sex=="M")%>%
ggplot(aes(x=Victim.Age,fill=Victim.Sex)) + geom_histogram(binwidth = 1,position="dodge")+labs(x="Victim Age",y="Number of Victims")

```

The minimum and maximum of victim age are the same for both sex. However, the female victim age is smaller (37.52 years old) on average than for male (38.72 years old).
From the overlapping pattern of the histogram plot above, it is obvious that male are more likely to be a victim of crime at a young age (10-15 years old) or from 40 to 70 years old while female tend to be in more danger between around 15 to 35 years old, especially aged between 18 and 25. For example, at age 25,number of female victims are approximately 3750 higher than male victims.


_Hypothesis testing_

As we have seen a different pattern in the victim age for male and female above, we want to use student t-test to check if the difference exists statistcally or is due to random variation. 

```{r , echo=FALSE}
# Code here
t.test(female_age,male_age,alternative = "two.sided")

```

A t-test is conducted build on the null hypothesis that there is no significant difference in the mean victim age between male and female.Based on the t-test,a p-value of less than 2.2e-16 is really low and we can conclude that there is strong evidence in rejecting the null hypothesis that the difference in means is 0. Thus, the mean age of the victims is significantly smaller for females.


Ethnicity
-------------------

Now that we have some clue about the relationship between age and gender, we want to dig more by adding another ethnicity variable. Below is a boxplot of victim age of male and female based on different ethnicity.

```{r , echo=FALSE}
#average age of victims based on ethnicity and gender(Hispanic has the lowerst avg age)
avg_age<-crime_data%>%
  group_by(Victim.Descent.Global,Victim.Sex)%>%
  filter(!is.na(Victim.Age),!Victim.Descent.Global=="-",!Victim.Descent.Global=="",
         Victim.Sex=="F"|Victim.Sex=="M")%>%
  summarise(avg_age=mean(Victim.Age),count=n())%>%
  arrange(avg_age)

#option1:barchart of mean age between different Ethnicity
#ggplot(avg_age,aes(x=Victim.Descent.Global,y=avg_age,fill=Victim.Sex))+geom_bar(stat = 'identity', position = 'dodge')+labs(x="race of victim",y="average age of victim")

#option2:boxplot of age between different Ethnicity(chosen)
crime_data%>%
  filter(Victim.Sex=="F"|Victim.Sex=="M",!Victim.Descent.Global=="-",!Victim.Descent.Global=="")%>%
  ggplot(aes(x=Victim.Sex,y=Victim.Age,fill=Victim.Descent.Global))+geom_boxplot()+labs(x="Gender",y="Victim Age")
```
From the boxplot based on ethnicity and gender, Hispanics have the lowest median age among all ethnicity groups and the age of female Hispanic is the lowest (around 33 years old). For Blacks and HispanicS, female victimS tend to be younger while it is not that obvious for other ethinicty groups.

We also have a histogram plot of victims counts with different gender and ethnicity below.

```{r}
#number of vitims with different gender and ethnicity
crime_data%>%
  filter(Victim.Sex=="F"|Victim.Sex=="M",!Victim.Descent.Global=="-",!Victim.Descent.Global=="")%>%
  ggplot(aes(x=Victim.Age,fill=Victim.Sex,  na.rm=TRUE)) + geom_bar(position="dodge")+facet_wrap(~Victim.Descent.Global)+
  labs(x="Victime Age",y="Number of victims")
```
From the above plot, it is obvious that Hispanics account for the largest part of victims, followed by black and white victims. Also, there are observable differences in the age distribution between male and female for the three ethnicity group. Focus on hispanic victims, female aged below around 40 are much more likely to be a victim than male.
```{r}
#Thus focus on Hispanic
#demographic <- crime_data %>% select(Victim.Age, Victim.Descent.Global, Victim.Sex) %>% 
# filter( !is.na(Victim.Age),!Victim.Descent.Global=="-",!Victim.Descent.Global=="",
#         Victim.Sex=="F"|Victim.Sex=="M")%>%
#  group_by(Victim.Age, Victim.Descent.Global, Victim.Sex) %>% 
#  summarise(count = n())

#Hispanic <- filter(demographic,  Victim.Descent.Global== "Hispanic")

#ggplot(Hispanic, aes(x = Victim.Age, y = count, fill = as.factor(Victim.Sex))) + 
#  geom_bar(stat = 'identity', position = 'dodge')    
```


_Hypothesis testing_

We want to carry out hypothesis testing to determine whether it is indeed the case according to the plot.
```{r}
Hispanic_female1<-crime_data%>%filter(Victim.Descent.Global=="Hispanic")
Hispanic_female<-Hispanic_female1$Victim.Age[Hispanic_female1$Victim.Sex=="F"]
Hispanic_male1<-crime_data%>%filter(Victim.Descent.Global=="Hispanic")
Hispanic_male<-Hispanic_male1$Victim.Age[Hispanic_male1$Victim.Sex=="M"]
t.test(Hispanic_female,Hispanic_male,alternative = "two.sided")

black_female1<-crime_data%>%filter(Victim.Descent.Global=="Black")
black_female<-black_female1$Victim.Age[black_female1$Victim.Sex=="F"]
black_male1<-crime_data%>%filter(Victim.Descent.Global=="Black")
black_male<-black_male1$Victim.Age[black_male1$Victim.Sex=="M"]
t.test(black_female,black_male,alternative = "two.sided")

white_female1<-crime_data%>%filter(Victim.Descent.Global=="White")
white_female<-white_female1$Victim.Age[white_female1$Victim.Sex=="F"]
white_male1<-crime_data%>%filter(Victim.Descent.Global=="White")
white_male<-white_male1$Victim.Age[white_male1$Victim.Sex=="M"]
t.test(white_female,white_male,alternative = "two.sided")


```
In the t-tests above, all three p-values are smaller than 0.05 which means that the difference in mean age is significant for all three ethnicity groups. Female Hispanic victims are around 6 years younger on average than male Hispanic victims. For black people, female victims are around 3 years younger on average than male victims. However, as for white people, the average age is approximately the same (with a difference of between 0.02 to 0.25).

Also, we want to know if the proportion of crime victims based on different ethnicity are the same as in the real population. Therefore, we calculate the proportion of white, black, hispanic victims below.
```{r , echo=FALSE}
crime_data1<-filter(crime_data,!crime_data$Victim.Descent=="")
sum(crime_data1$Victim.Descent.Global=="White")/nrow(crime_data1)
sum(crime_data1$Victim.Descent.Global=="Black")/nrow(crime_data1)
sum(crime_data1$Victim.Descent.Global=="Hispanic")/nrow(crime_data1)

```
According to the population of LA, non-Hispanic white people were 28.7% while black people were 9.6% of the population. While in the crime data, white people were 27.4% and black people were 17.8%. Thus, there is a huge difference between the population proportion with the crime proportion for black people.



We can see that the variables we discussed above are correlated with each other from the plots,now we construct a chi-squared test to verify the dependence shown in the plots.
```{r}
chisq.test(crime_data$Victim.Descent,crime_data$Victim.Age)
chisq.test(crime_data$Victim.Descent,crime_data$Victim.Sex)
chisq.test(crime_data$Victim.Age,crime_data$Victim.Sex)

```
From the chi-squared tests above, it is obvious that there are certain degree of dependence between age and sex, age and ethnicity, sex and ethnicity.

_Summary_

From the demographic analysis carried out so far, we found that people with certain demographic characteristics are more likely to be a victim of crime. For example, young Hispanic female aged aroung 25 years old is more likely to become crime victim.




Correlation with type of crime
-------------------
As we now have some understanding on the victim ethnicity, we want to find out whether the characteristics of victims  differs in different types of crime.
```{r , echo=FALSE}
#type of crime with gender
type<-crime_data%>%select(crime_type,Victim.Sex,Victim.Age)%>%
  filter(!is.na(Victim.Age), Victim.Sex=="F"|Victim.Sex=="M")%>%
  group_by(crime_type,Victim.Sex)%>%
summarise(count=n())%>%
  arrange(desc(count))
ggplot(type, aes(x =crime_type , y= count,fill=Victim.Sex)) + geom_bar(position = position_dodge(),stat = 'identity')  +
  theme(axis.text = element_text(angle= 45, hjust = 1))+labs(x="crime type",y="number of victims")+scale_y_continuous(breaks=c(10000,20000,40000,80000,100000,200000,300000))
```
From the barplot on crime type above, burglary, battery, assault and vandalism are the most likely crime types. Burglary and assault tend to be aimed more at male while battery and other sexual offences have more female victims.

We are also interested in the pattern of crime types with different ethnicity. Overall, burglary/theft occurs most frequently for all ethnicity groups.The burglary/theft proportion is the lowest for black victims. As for the proportion of assault and battery,  Asians, White, Asian, Pacific Islanders share similar proportion pattern whereas Black and Hispanic people have higher proportion in this two crime types.

```{r}
crime_data %>% filter(!Victim.Descent.Global=="-",!Victim.Descent.Global==" ") %>% ggplot(aes(x=Victim.Descent.Global, fill=crime_type))+ geom_bar(position='fill') + labs(x="Victim's Ethnicity", y= "Proportion of Crimes")
```





Area distribution
=====================

We have seen who the victims of the crime are, now let's focus on the location of these crimes. Of course, we can make the hypothesis that the location depends on the type of crime and on the victim.

Crime distribution per area
-------------------

First, we want to study the distribution of crime in the different areas.

```{r, echo=FALSE, fig.height=8, fig.width=10}
top5_crime <-  crime_data %>% select(Area.Name, crime_type) %>% group_by(crime_type, Area.Name) %>% summarise(count = n()) %>% top_n(5, wt =  count) 

ggplot(crime_data, aes(x = crime_type)) + geom_bar() + facet_wrap(~ Area.Name) + theme(axis.text = element_text(angle= 60, hjust = 1))
```

From these graphs, we can see that the distribution of the type of crime is slightly similar in the different areas. 

_Hypothesis testing_

Let's conduct a X-squared test to test the hypothesis whether the crime area is independent of the type of a crime at .05 significance level.

```{r}
tbl = table(crime_data$Area.Name, crime_data$crime_type) 
chisq.test(tbl)
```

As the p-value is lower than the .05 significance level, we reject the null hypothesis that the crime area is independent of the type of a crime.


Area distrubution per type of crime 
-------------------

Another way to address the problem is to look at the crime density for different type of crime in Los Angeles.

```{r, fig.height=10, fig.width=7, message=FALSE, warning=FALSE}

crime_data_coord <- crime_data %>% select(longitude, lattitude, Year.Occurred, crime_type) %>% filter(Year.Occurred == 2016)


LAMap <- ggmap(
  get_map("Los Angeles", zoom = 11), extent = "device", 
  legend = "topright")

LAMap +
  stat_density2d(aes(x = longitude, y = lattitude, fill = ..level..),
    size = 2, bins = 4, data = crime_data_coord, geom = "polygon", na.rm = TRUE) +
  scale_fill_gradient("Crime\nDensity") +
  scale_alpha(range = c(.4, .8), guide = FALSE) +
  guides(fill = guide_colorbar(barwidth = 1, barheight = 6)) + facet_wrap( ~ crime_type)
```

From the plot above, we can see the different area densities for each type of crime. As one would expect, for each type of crime, the region with the highest density of crime is close to central L.A.. There are a few main observations that we can make based on the plot. 

Firstly, we observe that homicides, gun shot crimes and kidnapping have fairly similar area distributions, with the highest density located around the area south of downtown Los Angeles.

Secondly, we can see that rape crimes, burglary, robbery, vandalism and other sexual offences are most concentrated in downtown Los Angeles.

Lastly, we observe that crimes like arson and contempt of court have a large area distribution. 



Time
=====================

Intuitively people tend to believe that more crimes happen during night time compared to day time and that women are more likely to be a victim during night time than men. In this part, we will try to look into these thoughts and find if this intuition consistent with factual data in terms of different types of crime. Additionaly, we will also focus on the time between case occurred and reported to see if a victim's quick reaction has a positive effect on solving the cases.

Occurred Time according to type of crime
-------------------

```{r , echo=FALSE}
ggplot(crime_data)+geom_bar(aes(x=crime_type,fill=Time.Occurred.Global),position="fill")+theme(axis.text = element_text(angle = 45,hjust = 1))
```

We can learn from the graph that unsurprisingly over 70% rape cases occured during night, from 6 pm to 7am. Homicide, assault, battery, gunshots, robbery, vandalism and vehicle theft are also more like to happen during night. On the contrary, arson, fraud, and drug offences are more likely to happen during day time. So what is consistent with our intuition is that physical injury cases are more likely to happen during night.




Occurred Time according to sex
-------------------

```{r , echo=FALSE}
Time_sex<-crime_data%>%filter(Victim.Sex=="F"|Victim.Sex=="M")

ggplot(Time_sex)+geom_bar(aes(x=Victim.Sex,fill=Time.Occurred.Global),position="fill")
```

From the graph, there is no significant difference of probabilities of being a victim between males and females at a specific time during a day. What surprised us is that it seems that males are more likely to be a victim at night (6pm to 7am) compared to females. In order to see if the difference is significant, we use prop.test to analyse the data.

_Hypothesis testing_

```{r , echo=FALSE}
crime_data$Time.Occured.Glo12 <- str_replace(crime_data$Time.Occurred.Global, "3. 7am to noon", "day time")
crime_data$Time.Occured.Glo12 <- str_replace(crime_data$Time.Occured.Glo12, "4. noon to 6pm", "day time")
crime_data$Time.Occured.Glo12 <- str_replace(crime_data$Time.Occured.Glo12, "1. 6pm to midnight", "night")
crime_data$Time.Occured.Glo12 <- str_replace(crime_data$Time.Occured.Glo12, "2. midnight to 7am", "night")
Time_sex<-crime_data%>%filter(Victim.Sex=="F"|Victim.Sex=="M")
crime_data[, "Victim.Sex"] <- sapply(crime_data[, "Victim.Sex"], as.character)
sex_char<-crime_data%>%filter(Victim.Sex=="F"|Victim.Sex=="M")
ct2<-data.frame(sex=factor(sex_char[,"Victim.Sex"]),occurred.time=factor(sex_char[,"Time.Occured.Glo12"]))
table2<-table(ct2)
table2

prop.test(table2)
```

To do the prop.test,we combine the four periods time of a day into two categories: day time (7am to 6pm) and night (6pm to 7am). The probabilities we get here is the probabilities of crime happening during day time for females and males, respectively. The p-value is smaller than 0.05, which implies that there is a siginificant difference of the proportions of cases occurring during day time between men and women. Similar to our findings through graph above, women are more likely to be victims during day time while men are more likely to be attacked during night, which is inconsistent with our expectation. A possible reason behind this is that women, possibly for their own safety, tend to stay at home during night time, which seems indeed a good idea. 




Correlation between time reported - time occured and type of crime
-------------------

```{r , echo=FALSE}

ggplot(crime_data)+geom_bar(aes(x=crime_type,fill=Time.Between.Occured.Reported.Global),position="fill")+theme(axis.text = element_text(angle = 45,hjust = 1))
```

It's shown from the graph that people usually react quickly to physical attack such as homicide, gunshots, assault. It's not surprising that victims report much later on fraud(may need time to realize that they have been cheated on), rape and other sexual offences(may feel too shameful to report), while it is quite hard to explain why there is a delay in reporting arson cases.





Correlation between time reported - time occured and case status
-------------------

```{r , echo=FALSE}
status<-sapply(crime_data$Status.Description,as.character)


#categorize the Status Description in to 3 type: Arrested,invest cont and other
levels(crime_data$Status.Description)[levels(crime_data$Status.Description)=="Adult Arrest"] <- "Arrested"
levels(crime_data$Status.Description)[levels(crime_data$Status.Description)=="Juv Arrest"] <- "Arrested"
levels(crime_data$Status.Description)[levels(crime_data$Status.Description)=="Juv Other"] <- "Other"
levels(crime_data$Status.Description)[levels(crime_data$Status.Description)=="Adult Other"] <- "Other"
levels(crime_data$Status.Description)[levels(crime_data$Status.Description)=="UNK"] <- "Other"
ggplot(crime_data)+geom_bar(aes(x=Time.Between.Occured.Reported.Global,fill=Status.Description),position="fill")+theme(axis.text = element_text(angle = 45,hjust = 1))
```

From this graph, we find that crimes reported in less than three days have a highest clear-up rate compared to that with longer reporting time. But the difference is not obvious so we need to do a prop.test on this to see if the difference is significant.

_Hypothesis testing_

```{r , echo=FALSE}
crime_data$Status.Description.Glo <- ifelse(crime_data$Status.Description == 'Arrested', TRUE, FALSE)
ct<-data.frame(time=factor(crime_data[,"Time.Between.Occured.Reported.Global"]),status=factor(crime_data[,"Status.Description.Glo"]))
table1<-table(ct)
table1
prop.test(table1)
```
In the hypothesis testing, we combine the three types of cases status (Arrested,invest Cont and others) into two status, where arrested equals to TRUE while invest Cont and others equal to FALSE. The probabilities we get here represents the proportion of unsolved cases of all cases categorized by the time between cases occurred and reported, which is 10 days to 15 days, 3 days to 10 days, less than 3 days and more than 15 days, respectively. As p-value in the proportion test is smaller than 0.05, it tells us that the unsolved rate of cases reported within less than 3 days(0.8703460) is significantly lower than the that of cases with longer report time, which is consistent with the intuitive findings according to the graph. This shows us that the quicker victims report, the more likely for police to solve the cases.



Correlation between crime type and case status 
-------------------
```{r , echo=FALSE}
ggplot(crime_data)+geom_bar(aes(x=crime_type,fill=Status.Description),position="fill")+theme(axis.text = element_text(angle = 45,hjust = 1))
```
We can see from the graph that of all different types of crime, homicide has the highest clear-up rate, which is not surprising as police departments around the world put great emphasis and energy on homicide cases. Thus, LAPD, according to our findings, is not an exception. Arson, burglary and vehicle theft have the three lowest detection rates, which may result from the little attention paid on these cases. Generally speaking, the cases that involve physical assault, or so called violent crimes, like assault or battery, have a higher probability of being solved while the property crimes are less likely to be solved in LA.


Based on the analysis above, we learn that generally people report quicker on physical injury cases and police officers take these cases more seriously, leading to a higher probability of sovling these types cases.


Public holidays impact
-------------------
```{r, eval=FALSE}

#Exploratory plot
ggplot(crime_data,aes(x=Date.Occurred.C,color=public_holiday))+geom_bar()+scale_color_manual(values=c("red","blue"))

crime_data%>%
  group_by(public_holiday,Date.Occurred.C)%>%
  summarise(count=n()) %>%
  group_by(public_holiday) %>%
  summarise(average.crime.per.day=mean(count)) %>%
  arrange(desc(average.crime.per.day))


crime_data%>%
  filter(Day.Occurred=="01" & Month.Occurred=="01") %>%
  group_by(Date.Occurred.C) %>%
  summarise(count=n())
    
crime_data%>%
  group_by(Jan1=ifelse(Day.Occurred=="01" & Month.Occurred=="01","1st Jan","Other Days"))%>%
  summarise(Average.Report.Time=mean(Time.Between.Occured.Reported)) %>%
  arrange(desc(Average.Report.Time))


crime_data%>%
  filter(Day.Occurred!="01" & Month.Occurred!="01")%>%
  summarise(Occured.Reported.Gap.SD=sd(Time.Between.Occured.Reported))

```

Police always release crime prevention tips before holidays, which gives us an impression that the number of crime occured during holidays is generally higher than that on a regular day. We are interested in knowing whether our dataset supports this impression to be true or not.

```{r}

crime_data%>%
  group_by(public_holiday,Date.Occurred.C)%>%
  summarise(count=n()) %>%
  group_by(public_holiday) %>%
  summarise(Average.Crime.per.Day=round(mean(count),1)) %>%
  arrange(desc(public_holiday))

```
To begin with, we extract a list of holiday dates (not including Sundays) in LA from 2010 - 2016 from the Internet to catagorise crime occured dates to holiday and non-holiday. The avereage number of crime per day is on public holidays is 577.5 and that on non-public holidays is 559.8, which is a good start as it looks to align with our assumptions.

```{r}
    
Jan1df1 <- crime_data%>%
  group_by(Jan1=ifelse(Day.Occurred=="01" & Month.Occurred=="01","1st Jan","Other Days"),Date.Occurred.C)%>%
  summarise(count=n()) %>%
  group_by(Jan1) %>%
  summarise(Average.Crime.per.Day=round(mean(count),1))

Jan1df2 <- crime_data%>%
  group_by(Jan1=ifelse(Day.Occurred=="01" & Month.Occurred=="01","1st Jan","Other Days"))%>%
  summarise(Average.Report.Time=round(mean(Time.Between.Occured.Reported),1))

Jan1df3 <- crime_data%>%
  group_by(Jan1=ifelse(Day.Occurred=="01" & Month.Occurred=="01","1st Jan","Other Days"))%>%
  summarise(SD.Report.Time=round(sd(Time.Between.Occured.Reported),1))

merge.data.frame(merge.data.frame(Jan1df1,Jan1df2,by="Jan1"),Jan1df3,by="Jan1")

```

However, we also find a pattern when exploring the data; the criminal activity on 1st Janurary in each year is extremly high compared to the other days, and as 1st Jan is usually a public holiday, this would distort the picture. There is also a significant difference in the average reporting time (number of days between when the crime ocurred and reported) and the standard deviation of the distribution of reporting time.

Unfortunately we could not find any information on the Internet or from the source of the dataset that could explain the peaks on 1st Janurary. The most logical reason of this could be some of the cases ooccured during the year but on an unknown day, and instead of keeping the occured day NA or missing, it was set as the 1st day of the year.

In order to have a meaningful comparison between number of crime cases on holidays and regular days, we have to remove the cases that did not truly occur on 1st Jan. As there is no indicator in the dataset pointing out those cases, the best estimator we have is number of days between occured and reported. Assuming the crimes on 1st Janurary would have the same distribution as other dates in a year, we decided to exclude cases that occured on 1st Jan with time difference between occured and reported more than 14.4 + 2*88.7 = 192 days. In theory, this range should have covered over 95% of the cases on 1st Jan.

```{r}

crime_data$Jan1.exclude.192 <- crime_data$Day.Occurred=="01" & crime_data$Month.Occurred=="01" & crime_data$Time.Between.Occured.Reported>192


cJan1df1 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Jan1=ifelse(Day.Occurred=="01" & Month.Occurred=="01","1st Jan","Other Days"),Date.Occurred.C)%>%
  summarise(count=n()) %>%
  group_by(Jan1) %>%
  summarise(Average.Crime.per.Day=round(mean(count),1))

cJan1df2 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Jan1=ifelse(Day.Occurred=="01" & Month.Occurred=="01","1st Jan","Other Days"))%>%
  summarise(Average.Report.Time=round(mean(Time.Between.Occured.Reported),1))

cJan1df3 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Jan1=ifelse(Day.Occurred=="01" & Month.Occurred=="01","1st Jan","Other Days"))%>%
  summarise(SD.Report.Time=round(sd(Time.Between.Occured.Reported),1))

merge.data.frame(merge.data.frame(cJan1df1,cJan1df2,by="Jan1"),cJan1df3,by="Jan1")

```

The method we use to exclude cases on 1st Jan is definitly not optimal, the standard derivation of cases on 1st Jan is lower than that on other days as we have a sharp cut at 192 days. It is, however, the best way we have to reduce some of the 'noise' and have excluded half of the cases on 1st Jan.

```{r}

crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(public_holiday,Date.Occurred.C)%>%
  summarise(count=n()) %>%
  group_by(public_holiday) %>%
  summarise(Average.Crime.per.Day=round(mean(count),1)) %>%
  arrange(desc(public_holiday))

```

After accounting for some of the random January cases, the average number of crime occurences per day on public holidays is now less than those of that on non-public holidays. Before moving on to the hypothesis testing on whether there is more or less crime on a public holidays, we still have one question, are the nature of Sundays the same as public holidays, since most of people are not required to work and shop closes early on the day, in terms of number of crime cases per day?


```{r}

crime_data$Sundays.PH.Regular <- ifelse(crime_data$public_holiday=="Public Holidays","Public Holidays",ifelse(crime_data$Sundays=="Sunday","non-PH Sundays","not PH or Sunday"))


PH_S_df1 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Sundays.PH.Regular,Date.Occurred.C)%>%
  summarise(count=n()) %>%
  group_by(Sundays.PH.Regular) %>%
  summarise(Average.Crime.per.Day=round(mean(count),1))

PH_S_df2 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Sundays.PH.Regular)%>%
  summarise(Average.Report.Time=round(mean(Time.Between.Occured.Reported),1))

PH_S_df3 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Sundays.PH.Regular)%>%
  summarise(SD.Report.Time=round(sd(Time.Between.Occured.Reported),1))

merge.data.frame(merge.data.frame(PH_S_df1,PH_S_df2,by="Sundays.PH.Regular"),PH_S_df3,by="Sundays.PH.Regular") %>% arrange(Average.Crime.per.Day)

Sunday.count <- crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular=="non-PH Sundays")%>%
  group_by(Sundays.PH.Regular,Date.Occurred.C)%>%
  summarise(count=n())
PH.count <- crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular=="Public Holidays")%>%
  group_by(Sundays.PH.Regular,Date.Occurred.C)%>%
  summarise(count=n())

t.test(Sunday.count$count,PH.count$count,alternative="two.sided")

```

Not surprisingly, the mean number of crime cases per day on public holidays and on Sundays are not much different.
And the t-test also indicates that there is no difference between the mean number of crime cases in Sundays and public holidays.
Therefore, Sundays and public holidays could be grouped in testing whether there is a difference between number of crime cases in holidays (public holidays and Sundays) and the other days.


```{r}
crime_data$Sundays.PH.Regular2 <- ifelse(crime_data$public_holiday=="Holidays","Public Holidays",ifelse(crime_data$Sundays=="Sunday","Holidays","not PH or Sunday"))


H_R_df1 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()) %>%
  group_by(Sundays.PH.Regular2) %>%
  summarise(Average.Crime.per.Day=round(mean(count),1))

H_R_df2 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Sundays.PH.Regular2)%>%
  summarise(Average.Report.Time=round(mean(Time.Between.Occured.Reported),1))

H_R_df3 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE)%>%
  group_by(Sundays.PH.Regular2)%>%
  summarise(SD.Report.Time=round(sd(Time.Between.Occured.Reported),1))

merge.data.frame(merge.data.frame(H_R_df1,H_R_df2,by="Sundays.PH.Regular2"),H_R_df3,by="Sundays.PH.Regular2") %>% arrange(Average.Crime.per.Day)

Holiday.count <- crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays")%>%
  group_by(Sundays.PH.Regular,Date.Occurred.C)%>%
  summarise(count=n())
Regular.count <- crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday")%>%
  group_by(Sundays.PH.Regular,Date.Occurred.C)%>%
  summarise(count=n())

t.test(Holiday.count$count,Regular.count$count,alternative="less")


```

The average number of crime cases on holidays (public holidays and Sundays combined) is less than that on regular days, shown by the t-test, in 99% confidence level, which is different from the assumptions above that there are more crime cases on holidays.


```{r, echo=FALSE}


#By crime type 
crime_type_excluded_1Jan_192 <- crime_data%>%
  filter(Jan1.exclude.192==FALSE) %>% 
  select(crime_type,Sundays.PH.Regular2,Date.Occurred.C) %>%
  group_by(crime_type,Sundays.PH.Regular2,Date.Occurred.C) %>% summarise (countperday=n()) %>% ungroup() %>%   group_by(crime_type,Sundays.PH.Regular2) %>% summarise (average_per_day=mean(countperday))

#crime_data_excluded_1Jan_192

PH_Crimetype_tbl <- xtabs(average_per_day~crime_type+Sundays.PH.Regular2,crime_type_excluded_1Jan_192)
PH_Crimetype_tbl
```


```{r, eval=FALSE, echo=FALSE}

#Assault
t.test((crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays" & crime_type=="Assault")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,
  (crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday"& crime_type=="Assault")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,alternative="less")

#Battery
t.test((crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays" & crime_type=="Battery")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,
  (crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday"& crime_type=="Battery")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,alternative="less")

#Gunshots Fired
t.test((crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays" & crime_type=="Gunshots Fired")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,
  (crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday"& crime_type=="Gunshots Fired")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,alternative="less")

#Homicide
t.test((crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays" & crime_type=="Homicide")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,
  (crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday"& crime_type=="Homicide")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,alternative="less")

#Rape
t.test((crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays" & crime_type=="Rape")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,
  (crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday"& crime_type=="Rape")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,alternative="less")

#Robbery
t.test((crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays" & crime_type=="Robbery")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,
  (crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday"& crime_type=="Robbery")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,alternative="less")

#Vandalism
t.test((crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="Holidays" & crime_type=="Vandalism")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,
  (crime_data%>%
  filter(Jan1.exclude.192==FALSE & Sundays.PH.Regular2=="not PH or Sunday"& crime_type=="Vandalism")%>%
  group_by(Sundays.PH.Regular2,Date.Occurred.C)%>%
  summarise(count=n()))$count,alternative="less")

```



Although it does look like it is safer on holidays, it may not be true as not all type of crimes are less often to happen. Most of crime type has less ocuuring rate on holidays, but the mean number of cases for assault, battery, gunshots, homocide, rape, robbery and vandalism have a higher occuring rate on holidays.

These crime types are somehow related to festival, alcohol and conflicts in crowded area. Therefore, the best way to minimise the chance of being a victim of crime in holidays is to stay at home and avoid the crowd.```



Prediction and logistic regression
=====================

We have studied the correlations between the different variables of our datasets, and we have tried to find some patterns about the crime type distribution according to the area and the victims.

Now, from these analyses, we would like to make some prediction about the type of a crime or the crime area according to different parameters. To do so, we need to run a multinomial logistic regression since our dependant variable is categorical (crime type or area). Unfortunately, the results are not satisfactory with few variables, and the algorithm is too slow when we add other variables. This is something that should be done in an deeper analysis.

Last but not least, We want to run a simple logistic regression to predict whether a case is likely to be solved or not.


Logistic Regression
-------------------

```{r}
# Remove missing values for victim age and premise code
crime_data$Status.Description.Global <- ifelse(crime_data$Status.Description == 'Arrested', TRUE, FALSE)
crime_data[, "Victim.Sex"] <- sapply(crime_data[, "Victim.Sex"], as.character)
crime_data_NA <- crime_data[!is.na(crime_data$Victim.Age) & !is.na(crime_data$Premise.Code) & (crime_data$Victim.Sex == "F" | crime_data$Victim.Sex == "M"),]
crime_data[, "Victim.Sex"] <- sapply(crime_data[, "Victim.Sex"], as.factor)

```

_Training set and learning set_

We train our algorithm with the data until 2015. Our testing dataset are the crimes which occured in 2016.

```{r}
train_data <- crime_data_NA[crime_data_NA$Year.Occurred != 2016, ]
test_data <- crime_data_NA[crime_data_NA$Year.Occurred == 2016, ]
```

_Logistic Regression_

We try to predict the final status of a crime (Solved or not) according to different parameters such as the age of the potential victim, the sex, the ethnicity, the area, the type of crime and the time between occured and reported crime.

```{r}
# GLM
model0 <- glm(Status.Description.Global ~ crime_type + Time.Between.Occured.Reported + Victim.Sex + Victim.Age + Area.Name + Victim.Descent.Global, family=binomial(link='logit'), data=train_data)
```

```{r, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
stargazer(model0, type = 'latex')
```

From this model, we can see that all the variables are significant at a 95% confidence with a p-value lower than 0.05. When comparing the different independent variables, we realize that the ethnicity of a victim has a smaller impact on finding the suspect of a crime than the area or the type of crime.
Moreover, the estimate of Time.Between.Occured.Reported confirms being negative, it confirms that the sooner a crime is reported, the more likely it will be solved.
 
Prediction
-------------------

```{r}
  		  
test_data_predict <- test_data %>% select(crime_type, Time.Between.Occured.Reported, Victim.Sex, Victim.Age, Area.Name, Victim.Descent.Global)
fitted.results <- predict(model0, test_data_predict, type='response')
fitted.results <- ifelse(fitted.results > 0.5,1,0)
misClasificError <- mean(fitted.results != test_data$Status.Description.Global)
print(paste('Accuracy',1-misClasificError))
```	

  		  
We run our algorithm with the data from 2016 and have an accuracy of 0.88, which is very good. We can predict with 88% of precision whether a crime will be solved even before the investigation !



Discussion
=====================

What results did you find?	
-------------------
We have studied the patterns of crime in L.A. in three different aspects. Looking at the demographics of victims, we have information about the characteristics of people that are most likely to be a victim. Younger females are more likely to be victims of crime compared to males of similar ages. Also, Hispanics account for the largest proportion of victims compared to other ethnic groups. More specifically, Hispanic young women around the age of 25 are the most susceptible to crime in L.A.. In addition, males are more likely to be victims in crimes like burglary and assault while female victims account for a larger proportion in battery and other sexual offences. 

Secondly, while analysing the area distribution of crimes in L.A., we find that 77th Street has the highest number of crimes in 2016. We also find that some crimes have similar distributions. Specifically, more serious crimes like homicide and kidnapping are concentrated at the area south of central LA. while less serious crimes like arson and vandalism are concentrated in central L.A..


From the time analysis part, firstly we find that physical injury cases like homicide, assault, battery, rape are more likely to happen during night. Also, women are more likely to be victims during day time while men are more likely to be attacked during night,which is inconsistent with our expectation. What else, crimes reported within less than three days have a highest clear-up rate compared to those with longer reporting time, which shows us that the quicker victims report, the more likely for police to solve the cases.Besides the reporting time, the nature of cases also affects the clear up rate.The cases that invovle physical attack,or so called violent crimes,like assault,battery,have higher probability to be solved while the property crimes are less likely to be solved in LA.

Despite the general assumptio that more criminal activity happens during on holidays, our data set lead us to believe that 
this is not the case. The average number of crime cases on a regular day is 5% higher than that on a holiday. However, certain types of crime that could be associated with festivals and alcohol occur more often during holidays. Therefore, it might be better to stay away from the crowd when you do not want to be a victim on holidays.


Why is this interesting?
-------------------
With the information extracted from the LA crime dataset, it is possible to provide useful suggestions for LA police in order to reduce the number of either citizens or tourists of LA from being hurt. In addition, we were interested in the general pattern of crime and curious about what will happen in the future. Thus, a prediction of the crime based on the recent dataset is crucial for the future crime prevention. It can help the police to allocate funds for particular department or stations. Last but not least, these analyses end up being a real asset for prevention campaign and for targetting potential victims.

What would be the next steps?	
-------------------
In this paper, we study the likelihood of being a victim of crime in order to help prevent crimes from happening. We have several interesting findings with regards to demographics of likely victims, location of crime as well as time/days when crimes are committed. 
Our findings can be useful for authorities in understanding who are the likely victims of crime in different areas at different days/time and policing efforts can thus be focused accordingly. The analysis that we have done is also useful for the general public, who will have a better knowledge of dangerous areas at different times and they can take the necessary precautions when they are out, rather than relying on anecdotal evidence of dangerous areas in Los Angeles, which may not be reliable information. 
With better data collection and more comprehensive data on the socio-economic status of victims as well as perpetrators of crime, further studies in this area can focus on predicting areas where criminals are likely to target. Studies can also be done on understanding the socio-economic background of criminals and efforts can be directed at stopping these criminals before they act.

